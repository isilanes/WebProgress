{% extends "books/base.html" %}

{% block content %}

<div class="banner">{{book}}</div>

{% include "books/top_menu.html" %}

<br><br>

<div class="book-detail-grid" style="width: 800px">
    <div class="two-col-grid-text">Title:</div><div class="two-col-grid-text">{{ book.title }}</div>
    <div class="two-col-grid-text">Author:</div>
    <div class="two-col-grid-text">
        {% for author in book.authors.all %}
        <a href="{% url 'books:author_detail' author.id %}">{{ author }}</a>{% if not forloop.last %}, {% endif %}
        {% endfor %}
    </div>
    <div class="two-col-grid-text">Pages:</div><div class="two-col-grid-text">{{ book.pages }}</div>
    <div class="two-col-grid-text">Published:</div><div class="two-col-grid-text">{{ book.year }}</div>

    {% if book.saga %}
    <div class="two-col-grid-text">Saga:</div><div class="two-col-grid-text">{{ book.saga }} #{{book.index_in_saga}}</div>
    {% endif %}
</div>

<br>

<a class="modify" href="{% url 'books:modify_book' book.id %}" style="margin-left: 15px;">Update</a>

<br><br><br>

<div class="book-detail-grid" style="width: 800px; font-size: 25px">
    <div class="two-col-grid-text">Date</div><div class="two-col-grid-text">Event</div>

    {% for event in book.events %}
    <div class="two-col-grid-text">{{event.when|date:"Y-m-d H:i" }}</div><div class="two-col-grid-text">{{event}}</div>
    {% endfor %}
</div>

{% endblock %}
